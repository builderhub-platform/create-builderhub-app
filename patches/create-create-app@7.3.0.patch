diff --git a/lib/cli.js b/lib/cli.js
index 5ae96c9764e44edc113408956c2de7d5b89da080..06fb58830f6c515c472bc77c0fba3dfc1f183783 100755
--- a/lib/cli.js
+++ b/lib/cli.js
@@ -1,20 +1,21 @@
 #!/usr/bin/env node
-"use strict";var Fe=Object.create;var R=Object.defineProperty;var Se=Object.getOwnPropertyDescriptor;var He=Object.getOwnPropertyNames;var Le=Object.getPrototypeOf,Ie=Object.prototype.hasOwnProperty;var Ne=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of He(t))!Ie.call(e,i)&&i!==r&&R(e,i,{get:()=>t[i],enumerable:!(a=Se(t,i))||a.enumerable});return e};var o=(e,t,r)=>(r=e!=null?Fe(Le(e)):{},Ne(t||!e||!e.__esModule?R(r,"default",{value:e,enumerable:!0}):r,e));var u=o(require("chalk")),me=require("path");var P=o(require("chalk")),se=require("epicfail"),pe=o(require("execa")),L=o(require("fs")),C=require("license.js"),k=o(require("path")),ce=o(require("yargs-interactive"));var U=require("cross-spawn"),E=o(require("fs")),G=o(require("path"));function F(e,t=[],r={}){return new Promise((a,i)=>{(0,U.spawn)(e,t,{stdio:"inherit",...r}).on("close",c=>{if(c!==0)return i(c);a(c)})})}function V(e,t){return E.default.existsSync(G.default.resolve(t,e))}function z(e){try{return E.default.readdirSync(e).filter(t=>!t.startsWith(".")).length!==0}catch(t){if((t==null?void 0:t.code)==="ENOENT")return!1;throw t}}var B=o(require("execa")),W=o(require("gitconfig"));async function Y(e){y("git init"),await(0,B.default)("git init",{shell:!0,cwd:e})}async function Z(){try{return(await W.default.get({location:"global"})).user??{}}catch{return{}}}function q(){if(!process.env.npm_config_user_agent)return"npm";let e=process.env.npm_config_user_agent.split(" ")[0],t=e.lastIndexOf("/");return e.substring(0,t)}async function J(e,t){let r,a;switch(t){case"npm":{r="npm",a=["install"],process.chdir(e);break}case"yarn":{r="yarnpkg",a=["install","--cwd",e];break}case"pnpm":{r="pnpm",a=["install","--dir",e];break}}y(r,...a);try{await F(r,a,{stdio:"inherit",shell:!0})}catch(i){throw new f(`Failed to install dependencies: ${i}`)}}async function K(e,t,{isDev:r=!1,pm:a}){let i,s;switch(a){case"npm":{i="npm",s=["install",r?"-D":"-S",...t],process.chdir(e);break}case"yarn":{i="yarnpkg",s=["add","--cwd",e,...t,r?"-D":""];break}case"pnpm":{i="pnpm",s=["add","--dir",e,...t,r?"-D":""];break}}y(i,...s);try{await F(i,s,{stdio:"inherit",shell:!0})}catch(c){throw new f(`Failed to add dependencies: ${c}`)}}var h=o(require("fs")),X=o(require("globby")),g=o(require("handlebars")),ee=o(require("is-utf8")),d=o(require("path")),S=o(require("slash")),te=require("uuid");function re(e){return e.split(/[-_\s]+/)}function Me(e){return re(w(e)).join(" ")}g.default.registerHelper("space",Me);function w(e){return e.replace(/[\r\n]/g,"")}g.default.registerHelper("trim",w);function Te(e){return w(e).toUpperCase()}g.default.registerHelper("upper",Te);function _e(e,t){let r=t&&t.hash&&t.hash.space;return w(e).toLowerCase()}g.default.registerHelper("lower",_e);function H(e,t){let r=t&&t.hash&&t.hash.space;return re(w(e)).map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(r?" ":"")}g.default.registerHelper("capital",H);function je(e){return H(e).replace(/^./,t=>t.toLowerCase())}g.default.registerHelper("camel",je);function ne(e){return H(e).replace(/(?<=([a-z](?=[A-Z])|[A-Za-z](?=[0-9])))(?=[A-Z0-9])/g,"_").toLowerCase()}g.default.registerHelper("snake",ne);function Re(e){return ne(e).replace(/_/g,"-")}g.default.registerHelper("kebab",Re);function Ue(){return(0,te.v4)()}g.default.registerHelper("uuid",Ue);function Q(e,t){return g.default.compile(e.toString(),{noEscape:!0})(t)}function Ge(e){try{let t=d.default.dirname(e);h.default.mkdirSync(t,{recursive:!0})}catch{}}function ie(e){return h.default.readdirSync(e).filter(t=>!t.startsWith("."))}async function ae(e){let t=await(0,X.default)((0,S.default)(e.templateDir),{dot:!0});for(let r of t){let a=d.default.relative(e.templateDir,r),i=Q((0,S.default)(d.default.resolve(e.packageDir,a)),e.view).replace(new RegExp(`${d.sep}gitignore$`,"g"),`${d.sep}.gitignore`);Ge(i);let s=h.default.readFileSync(r),c=s;(0,ee.default)(s)&&(c=Buffer.from(Q(s,e.view))),h.default.writeFileSync(i,c,"utf-8")}}var f=class extends Error{constructor(t){super(t),this.name="CLIError"}};function y(...e){console.log(P.default.gray(">",...e))}function oe(e,t){return`${e}${t?` <${t}>`:""}`}async function le(e,t){(0,se.epicfail)(require.main.filename,{assertExpected:n=>n.name==="CLIError"});let r=await Z(),{templateRoot:a,modifyName:i,extra:s={},after:c,caveat:b,defaultDescription:ge="description",defaultAuthor:fe=r.name??"Your name",defaultEmail:ue=r.email??"Your email",defaultTemplate:de="default",defaultLicense:ye="MIT",defaultPackageManager:he=void 0,promptForDescription:we=!0,promptForAuthor:ke=!0,promptForEmail:be=!0,promptForTemplate:ve=!1,promptForLicense:xe=!0,promptForPackageManager:Pe=!1,skipGitInit:Ce=!1,skipNpmInstall:Ae=!1}=t,v=process.argv[2];if(v===void 0)throw new f(`${e} <name>`);let I=v===".",x=I?k.default.basename(process.cwd()):i?await Promise.resolve(i(v)):v,p=I?process.cwd():k.default.resolve(x);if(z(p))throw new f(`${p} is not empty directory.`);let A=ie(a);if(A.length===0)throw new f("No template found");let De=[...(0,C.availableLicenses)(),"UNLICENSED"],Oe=A.length>1,$e={interactive:{default:!0},description:{type:"input",describe:"Description",default:ge,prompt:we?"if-no-arg":"never"},author:{type:"input",describe:"Author name",default:fe,prompt:ke?"if-no-arg":"never"},email:{type:"input",describe:"Author email",default:ue,prompt:be?"if-no-arg":"never"},template:{type:"list",describe:"Template",default:de,prompt:Oe&&ve?"if-no-arg":"never",choices:A},license:{type:"list",describe:"License",choices:De,default:ye,prompt:xe?"if-no-arg":"never"},"node-pm":{type:"list",describe:"Package manager to use for installing packages from npm",choices:["npm","yarn","pnpm"],default:he,prompt:Pe?"if-no-arg":"never"},"skip-git":{type:"confirm",describe:"Skip initializing git repository",prompt:"never"},"skip-install":{type:"confirm",describe:"Skip installing package dependencies",prompt:"never"},...s},l=await(0,ce.default)().usage("$0 <name> [args]").interactive($e),N=l.template,D=k.default.resolve(a,N);if(!L.default.existsSync(D))throw new f("No template found");let M=Object.entries(l).filter(n=>n[0].match(/^[^$_]/)&&!["interactive","template"].includes(n[0])).reduce((n,m)=>(n[m[0]]=m[1],n),{}),O=new Date().getFullYear(),T=oe(l.author,l.email);console.log(`
-Creating a new package in ${P.default.green(p)}.`),await ae({packageDir:p,templateDir:D,view:{...M,name:x,year:O,contact:T}});try{let n=(0,C.makeLicenseSync)(l.license,{year:O,project:x,description:l.description,organization:oe(l.author,l.email)}),m=(n.header??"")+n.text+(n.warranty??"");L.default.writeFileSync(k.default.resolve(p,"LICENSE"),m)}catch{}if(!(Ce||l["skip-git"]))try{console.log(`
-Initializing a git repository`),await Y(p)}catch(n){if((n==null?void 0:n.exitCode)==127)return;throw n}let _=async(n,m)=>{};if(V("package.json",p)){let n=l["node-pm"]??q();Ae||l["skip-install"]||(console.log(`
-Installing dependencies using ${n}`),await J(p,n)),_=async(m,$=!1)=>{await K(p,Array.isArray(m)?m:[m],{isDev:$,pm:n})}}let j={name:x,packageDir:p,template:N,templateDir:D,year:O,run:(n,m={})=>{let[$,...Ee]=n.split(" ");return(0,pe.default)($,Ee,{stdio:"inherit",cwd:p,...m})},installNpmPackage:_,answers:{...M,contact:T}};if(c&&await Promise.resolve(c(j)),console.log(`
-Successfully created ${P.default.bold.cyan(p)}`),b)switch(typeof b){case"string":console.log(b);break;case"function":let n=await Promise.resolve(b(j));n&&console.log(n);break;default:}}var Ve=(0,me.resolve)(__dirname,"..","templates"),ze=({name:e,template:t})=>{let r=`
-cd ${u.default.bold.green(e)}
+"use strict";var Le=Object.create;var _=Object.defineProperty;var Ie=Object.getOwnPropertyDescriptor;var Ne=Object.getOwnPropertyNames;var Te=Object.getPrototypeOf,_e=Object.prototype.hasOwnProperty;var je=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ne(t))!_e.call(e,a)&&a!==r&&_(e,a,{get:()=>t[a],enumerable:!(n=Ie(t,a))||n.enumerable});return e};var o=(e,t,r)=>(r=e!=null?Le(Te(e)):{},je(t||!e||!e.__esModule?_(r,"default",{value:e,enumerable:!0}):r,e));var d=o(require("chalk")),le=require("path");var D=o(require("chalk")),oe=require("epicfail"),se=o(require("execa")),v=require("fs"),O=require("license.js"),u=o(require("path")),ce=o(require("yargs-interactive"));var j=require("cross-spawn"),S=o(require("fs")),R=o(require("path"));function C(e,t=[],r={}){return new Promise((n,a)=>{(0,j.spawn)(e,t,{stdio:"inherit",...r}).on("close",l=>{if(l!==0)return a(l);n(l)})})}function U(e,t){return S.default.existsSync(R.default.resolve(t,e))}function G(e){try{return S.default.readdirSync(e).filter(t=>!t.startsWith(".")).length!==0}catch(t){if((t==null?void 0:t.code)==="ENOENT")return!1;throw t}}var z=o(require("execa")),B=o(require("gitconfig"));async function W(e){w("git init"),await(0,z.default)("git init",{shell:!0,cwd:e})}async function Y(){try{return(await B.default.get({location:"global"})).user??{}}catch{return{}}}function Z(){if(!process.env.npm_config_user_agent)return"npm";let e=process.env.npm_config_user_agent.split(" ")[0],t=e.lastIndexOf("/");return e.substring(0,t)}async function q(e,{pm:t}){let r,n;switch(t){case"npm":{r="npm",n=["init","-y"],process.chdir(e);break}case"yarn":{r="yarnpkg",n=["init","-y","--cwd",e];break}case"pnpm":{r="pnpm",n=["init","-y"],process.chdir(e);break}}w(r,...n);try{await C(r,n,{stdio:"inherit",shell:!0})}catch(a){throw new g(`Failed to install dependencies: ${a}`)}}async function J(e,t){let r,n;switch(t){case"npm":{r="npm",n=["install"],process.chdir(e);break}case"yarn":{r="yarnpkg",n=["install","--cwd",e];break}case"pnpm":{r="pnpm",n=["install","--dir",e];break}}w(r,...n);try{await C(r,n,{stdio:"inherit",shell:!0})}catch(a){throw new g(`Failed to install dependencies: ${a}`)}}async function K(e,t,{isDev:r=!1,pm:n}){let a,p;switch(n){case"npm":{a="npm",p=["install",r?"-D":"-S",...t],process.chdir(e);break}case"yarn":{a="yarnpkg",p=["add","--cwd",e,...t,r?"-D":""];break}case"pnpm":{a="pnpm",p=["add","--dir",e,...t,r?"-D":""];break}}w(a,...p);try{await C(a,p,{stdio:"inherit",shell:!0})}catch(l){throw new g(`Failed to add dependencies: ${l}`)}}var k=o(require("fs")),V=o(require("globby")),c=o(require("handlebars")),X=o(require("is-utf8")),y=o(require("path")),E=o(require("slash")),ee=require("uuid");function te(e){return e.split(/[-_\s]+/)}function Re(e){return te(b(e)).join(" ")}c.default.registerHelper("space",Re);function b(e){return e.replace(/[\r\n]/g,"")}c.default.registerHelper("trim",b);function Ue(e){return b(e).toUpperCase()}c.default.registerHelper("upper",Ue);function Ge(e,t){let r=t&&t.hash&&t.hash.space;return b(e).toLowerCase()}c.default.registerHelper("lower",Ge);function M(e,t){let r=t&&t.hash&&t.hash.space;return te(b(e)).map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(r?" ":"")}c.default.registerHelper("capital",M);function ze(e){return M(e).replace(/^./,t=>t.toLowerCase())}c.default.registerHelper("camel",ze);function re(e){return M(e).replace(/(?<=([a-z](?=[A-Z])|[A-Za-z](?=[0-9])))(?=[A-Z0-9])/g,"_").toLowerCase()}c.default.registerHelper("snake",re);function Be(e){return re(e).replace(/_/g,"-")}c.default.registerHelper("kebab",Be);function We(){return(0,ee.v4)()}c.default.registerHelper("uuid",We);function Ye(e){return e.fn()}c.default.registerHelper("raw-helper",Ye);function Ze(e){return e.fn()}c.default.registerHelper("raw",Ze);function Q(e,t){return c.default.compile(e.toString(),{noEscape:!0})(t)}function qe(e){try{let t=y.default.dirname(e);k.default.mkdirSync(t,{recursive:!0})}catch{}}function ne(e){return k.default.readdirSync(e).filter(t=>!t.startsWith("."))}async function ie(e){let t=await(0,V.default)((0,E.default)(e.sourceDir),{dot:!0});for(let r of t){let n=y.default.relative(e.sourceDir,r),a=Q((0,E.default)(y.default.resolve(e.targetDir,n)),e.view).replace(new RegExp(`${y.sep}gitignore$`,"g"),`${y.sep}.gitignore`);qe(a);let p=k.default.readFileSync(r),l=p;(0,X.default)(p)&&(l=Buffer.from(Q(p,e.view))),k.default.writeFileSync(a,l,"utf-8")}}var g=class extends Error{constructor(t){super(t),this.name="CLIError"}};function w(...e){console.log(D.default.gray(">",...e))}async function pe(e,t){(0,oe.epicfail)(require.main.filename,{assertExpected:i=>i.name==="CLIError"});let r=await Y(),{templateRoot:n,modifyName:a,extra:p={},after:l,caveat:P,defaultDescription:me="description",defaultAuthor:ge=r.name??"Your name",defaultEmail:fe=r.email??"Your email",defaultTemplate:ue="default",defaultLicense:de="MIT",defaultPackageManager:ye=void 0,promptForDescription:he=!0,promptForAuthor:we=!0,promptForEmail:ke=!0,promptForTemplate:be=!1,promptForLicense:ve=!0,promptForPackageManager:Pe=!1,skipGitInit:xe=!1,skipNpmInstall:Ae=!1}=t,x=process.argv[2];if(x===void 0)throw new g(`${e} <name>`);let L=x===".",A=L?u.default.basename(process.cwd()):a?await Promise.resolve(a(x)):x,s=L?process.cwd():(0,u.resolve)(A);if(G(s))throw new g(`${s} is not empty directory.`);let H=ne(n);if(H.length===0)throw new g("No template found");let Ce=[...(0,O.availableLicenses)(),"UNLICENSED"],De=H.length>1,Oe={interactive:{default:!0},description:{type:"input",describe:"Description",default:me,prompt:he?"if-no-arg":"never"},author:{type:"input",describe:"Author name",default:ge,prompt:we?"if-no-arg":"never"},email:{type:"input",describe:"Author email",default:fe,prompt:ke?"if-no-arg":"never"},template:{type:"list",describe:"Template",default:ue,prompt:De&&be?"if-no-arg":"never",choices:H},license:{type:"list",describe:"License",choices:Ce,default:de,prompt:ve?"if-no-arg":"never"},"node-pm":{type:"list",describe:"Package manager to use for installing packages from npm",choices:["npm","yarn","pnpm"],default:ye,prompt:Pe?"if-no-arg":"never"},"skip-git":{type:"confirm",describe:"Skip initializing git repository",prompt:"never"},"skip-install":{type:"confirm",describe:"Skip installing package dependencies",prompt:"never"},...p},m=await(0,ce.default)().usage("$0 <name> [args]").interactive(Oe),I=m.template,$=(0,u.resolve)(n,I);if(!(0,v.existsSync)($))throw new g("No template found");let h=m["node-pm"]??Z(),He=["name","interactive","node-pm","nodePm"],$e=Object.entries(m).filter(i=>i[0].match(/^[^$_]/)&&!He.includes(i[0])).reduce((i,f)=>(i[f[0]]=f[1],i),{}),F=new Date().getFullYear(),Fe=ae(m.author,m.email),N={...$e,name:A,contact:Fe};console.log(`
+Creating a new package in ${D.default.green(s)}.`),await ie({sourceDir:$,targetDir:s,view:{...N,year:F,packageManager:h}});try{let i=(0,O.makeLicenseSync)(m.license,{year:F,project:A,description:m.description,organization:ae(m.author,m.email)}),f=(i.header??"")+i.text+(i.warranty??"");(0,v.writeFileSync)((0,u.resolve)(s,"LICENSE"),f)}catch{}if(!(xe||m["skip-git"]))try{console.log(`
+Initializing a git repository`),await W(s)}catch(i){if((i==null?void 0:i.exitCode)==127)return;throw i}let Se=async(i,f=!1)=>{(0,v.existsSync)((0,u.join)(s,"package.json"))||await q(s,{pm:h}),await K(s,Array.isArray(i)?i:[i],{isDev:f,pm:h})};U("package.json",s)&&!(Ae||m["skip-install"])&&(console.log(`
+Installing dependencies using ${h}`),await J(s,h));let T={packageDir:s,templateDir:$,year:F,packageManager:h,answers:N,run:(i,f={})=>{let[Ee,...Me]=i.split(" ");return(0,se.default)(Ee,Me,{stdio:"inherit",cwd:s,...f})},installNpmPackage:Se,name:A,template:I};if(l&&await Promise.resolve(l(T)),console.log(`
+Successfully created ${D.default.bold.cyan(s)}`),P)switch(typeof P){case"string":console.log(P);break;case"function":let i=await Promise.resolve(P(T));i&&console.log(i);break;default:}}function ae(e,t){return`${e}${t?` <${t}>`:""}`}var Je=(0,le.resolve)(__dirname,"..","templates"),Ke=({answers:{name:e,template:t}})=>{let r=`
+cd ${d.default.bold.green(e)}
 `;switch(t){case"typescript":r+=`
 Inside the directory, you can run several commands:
 
-${u.default.bold.cyan("npm run dev")}
-  ${u.default.gray("Starts 'tsc -w'.")}
-${u.default.bold.cyan("npm run build")}
-  ${u.default.gray("Build the app for production.")}
+${d.default.bold.cyan("npm run dev")}
+  ${d.default.gray("Starts 'tsc -w'.")}
+${d.default.bold.cyan("npm run build")}
+  ${d.default.gray("Build the app for production.")}
 
-After the build, run ${u.default.cyan("node dist/cli.js <name>")} to test your app.
+After the build, run ${d.default.cyan("node dist/cli.js <name>")} to test your app.
 `;break;default:r+=`node src/cli.js <name>
 `}return r+=`
 Read the docs for the further information:
-${u.default.yellow("https://github.com/uetchy/create-create-app/blob/master/README.md")}`,r};le("create-create-app",{templateRoot:Ve,modifyName:e=>e.startsWith("create-")?e:`create-${e}`,promptForTemplate:!0,skipNpmInstall:!0,after:async({installNpmPackage:e})=>{console.log("Installing the latest version of create-create-app"),await e("create-create-app")},caveat:ze});
+${d.default.yellow("https://github.com/uetchy/create-create-app/blob/master/README.md")}`,r};pe("create-create-app",{templateRoot:Je,promptForTemplate:!0,skipNpmInstall:!0,modifyName:e=>e.startsWith("create-")?e:`create-${e}`,after:async({installNpmPackage:e})=>{console.log(`
+Installing the latest version of create-create-app`),await e("create-create-app")},caveat:Ke});
diff --git a/lib/index.js b/lib/index.js
index 7c3780080e871377d0294f0d49b1095605bd8a2c..85a40e289dd1489b046d9941bf6dba2e504ed647 100644
--- a/lib/index.js
+++ b/lib/index.js
@@ -1,5 +1,5 @@
-"use strict";var Fe=Object.create;var x=Object.defineProperty;var Se=Object.getOwnPropertyDescriptor;var Ee=Object.getOwnPropertyNames;var Le=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty;var He=(e,t)=>{for(var r in t)x(e,r,{get:t[r],enumerable:!0})},G=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ee(t))!$e.call(e,i)&&i!==r&&x(e,i,{get:()=>t[i],enumerable:!(a=Se(t,i))||a.enumerable});return e};var o=(e,t,r)=>(r=e!=null?Fe(Le(e)):{},G(t||!e||!e.__esModule?x(r,"default",{value:e,enumerable:!0}):r,e)),Me=e=>G(x({},"__esModule",{value:!0}),e);var ze={};He(ze,{CLIError:()=>f,create:()=>je,printCommand:()=>d});module.exports=Me(ze);var P=o(require("chalk")),se=require("epicfail"),pe=o(require("execa")),H=o(require("fs")),C=require("license.js"),w=o(require("path")),ce=o(require("yargs-interactive"));var V=require("cross-spawn"),S=o(require("fs")),j=o(require("path"));function E(e,t=[],r={}){return new Promise((a,i)=>{(0,V.spawn)(e,t,{stdio:"inherit",...r}).on("close",c=>{if(c!==0)return i(c);a(c)})})}function z(e,t){return S.default.existsSync(j.default.resolve(t,e))}function R(e){try{return S.default.readdirSync(e).filter(t=>!t.startsWith(".")).length!==0}catch(t){if((t==null?void 0:t.code)==="ENOENT")return!1;throw t}}var Y=o(require("execa")),Z=o(require("gitconfig"));async function B(e){d("git init"),await(0,Y.default)("git init",{shell:!0,cwd:e})}async function W(){try{return(await Z.default.get({location:"global"})).user??{}}catch{return{}}}function q(){if(!process.env.npm_config_user_agent)return"npm";let e=process.env.npm_config_user_agent.split(" ")[0],t=e.lastIndexOf("/");return e.substring(0,t)}async function J(e,t){let r,a;switch(t){case"npm":{r="npm",a=["install"],process.chdir(e);break}case"yarn":{r="yarnpkg",a=["install","--cwd",e];break}case"pnpm":{r="pnpm",a=["install","--dir",e];break}}d(r,...a);try{await E(r,a,{stdio:"inherit",shell:!0})}catch(i){throw new f(`Failed to install dependencies: ${i}`)}}async function K(e,t,{isDev:r=!1,pm:a}){let i,s;switch(a){case"npm":{i="npm",s=["install",r?"-D":"-S",...t],process.chdir(e);break}case"yarn":{i="yarnpkg",s=["add","--cwd",e,...t,r?"-D":""];break}case"pnpm":{i="pnpm",s=["add","--dir",e,...t,r?"-D":""];break}}d(i,...s);try{await E(i,s,{stdio:"inherit",shell:!0})}catch(c){throw new f(`Failed to add dependencies: ${c}`)}}var y=o(require("fs")),X=o(require("globby")),g=o(require("handlebars")),ee=o(require("is-utf8")),u=o(require("path")),L=o(require("slash")),te=require("uuid");function re(e){return e.split(/[-_\s]+/)}function Ne(e){return re(h(e)).join(" ")}g.default.registerHelper("space",Ne);function h(e){return e.replace(/[\r\n]/g,"")}g.default.registerHelper("trim",h);function Te(e){return h(e).toUpperCase()}g.default.registerHelper("upper",Te);function Ie(e,t){let r=t&&t.hash&&t.hash.space;return h(e).toLowerCase()}g.default.registerHelper("lower",Ie);function $(e,t){let r=t&&t.hash&&t.hash.space;return re(h(e)).map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(r?" ":"")}g.default.registerHelper("capital",$);function _e(e){return $(e).replace(/^./,t=>t.toLowerCase())}g.default.registerHelper("camel",_e);function ne(e){return $(e).replace(/(?<=([a-z](?=[A-Z])|[A-Za-z](?=[0-9])))(?=[A-Z0-9])/g,"_").toLowerCase()}g.default.registerHelper("snake",ne);function Ue(e){return ne(e).replace(/_/g,"-")}g.default.registerHelper("kebab",Ue);function Ge(){return(0,te.v4)()}g.default.registerHelper("uuid",Ge);function Q(e,t){return g.default.compile(e.toString(),{noEscape:!0})(t)}function Ve(e){try{let t=u.default.dirname(e);y.default.mkdirSync(t,{recursive:!0})}catch{}}function ie(e){return y.default.readdirSync(e).filter(t=>!t.startsWith("."))}async function ae(e){let t=await(0,X.default)((0,L.default)(e.templateDir),{dot:!0});for(let r of t){let a=u.default.relative(e.templateDir,r),i=Q((0,L.default)(u.default.resolve(e.packageDir,a)),e.view).replace(new RegExp(`${u.sep}gitignore$`,"g"),`${u.sep}.gitignore`);Ve(i);let s=y.default.readFileSync(r),c=s;(0,ee.default)(s)&&(c=Buffer.from(Q(s,e.view))),y.default.writeFileSync(i,c,"utf-8")}}var f=class extends Error{constructor(t){super(t),this.name="CLIError"}};function d(...e){console.log(P.default.gray(">",...e))}function oe(e,t){return`${e}${t?` <${t}>`:""}`}async function je(e,t){(0,se.epicfail)(require.main.filename,{assertExpected:n=>n.name==="CLIError"});let r=await W(),{templateRoot:a,modifyName:i,extra:s={},after:c,caveat:k,defaultDescription:le="description",defaultAuthor:me=r.name??"Your name",defaultEmail:ge=r.email??"Your email",defaultTemplate:fe="default",defaultLicense:ue="MIT",defaultPackageManager:de=void 0,promptForDescription:ye=!0,promptForAuthor:he=!0,promptForEmail:we=!0,promptForTemplate:ke=!1,promptForLicense:be=!0,promptForPackageManager:ve=!1,skipGitInit:xe=!1,skipNpmInstall:Pe=!1}=t,b=process.argv[2];if(b===void 0)throw new f(`${e} <name>`);let M=b===".",v=M?w.default.basename(process.cwd()):i?await Promise.resolve(i(b)):b,p=M?process.cwd():w.default.resolve(v);if(R(p))throw new f(`${p} is not empty directory.`);let D=ie(a);if(D.length===0)throw new f("No template found");let Ce=[...(0,C.availableLicenses)(),"UNLICENSED"],De=D.length>1,Oe={interactive:{default:!0},description:{type:"input",describe:"Description",default:le,prompt:ye?"if-no-arg":"never"},author:{type:"input",describe:"Author name",default:me,prompt:he?"if-no-arg":"never"},email:{type:"input",describe:"Author email",default:ge,prompt:we?"if-no-arg":"never"},template:{type:"list",describe:"Template",default:fe,prompt:De&&ke?"if-no-arg":"never",choices:D},license:{type:"list",describe:"License",choices:Ce,default:ue,prompt:be?"if-no-arg":"never"},"node-pm":{type:"list",describe:"Package manager to use for installing packages from npm",choices:["npm","yarn","pnpm"],default:de,prompt:ve?"if-no-arg":"never"},"skip-git":{type:"confirm",describe:"Skip initializing git repository",prompt:"never"},"skip-install":{type:"confirm",describe:"Skip installing package dependencies",prompt:"never"},...s},l=await(0,ce.default)().usage("$0 <name> [args]").interactive(Oe),N=l.template,O=w.default.resolve(a,N);if(!H.default.existsSync(O))throw new f("No template found");let T=Object.entries(l).filter(n=>n[0].match(/^[^$_]/)&&!["interactive","template"].includes(n[0])).reduce((n,m)=>(n[m[0]]=m[1],n),{}),A=new Date().getFullYear(),I=oe(l.author,l.email);console.log(`
-Creating a new package in ${P.default.green(p)}.`),await ae({packageDir:p,templateDir:O,view:{...T,name:v,year:A,contact:I}});try{let n=(0,C.makeLicenseSync)(l.license,{year:A,project:v,description:l.description,organization:oe(l.author,l.email)}),m=(n.header??"")+n.text+(n.warranty??"");H.default.writeFileSync(w.default.resolve(p,"LICENSE"),m)}catch{}if(!(xe||l["skip-git"]))try{console.log(`
-Initializing a git repository`),await B(p)}catch(n){if((n==null?void 0:n.exitCode)==127)return;throw n}let _=async(n,m)=>{};if(z("package.json",p)){let n=l["node-pm"]??q();Pe||l["skip-install"]||(console.log(`
-Installing dependencies using ${n}`),await J(p,n)),_=async(m,F=!1)=>{await K(p,Array.isArray(m)?m:[m],{isDev:F,pm:n})}}let U={name:v,packageDir:p,template:N,templateDir:O,year:A,run:(n,m={})=>{let[F,...Ae]=n.split(" ");return(0,pe.default)(F,Ae,{stdio:"inherit",cwd:p,...m})},installNpmPackage:_,answers:{...T,contact:I}};if(c&&await Promise.resolve(c(U)),console.log(`
-Successfully created ${P.default.bold.cyan(p)}`),k)switch(typeof k){case"string":console.log(k);break;case"function":let n=await Promise.resolve(k(U));n&&console.log(n);break;default:}}0&&(module.exports={CLIError,create,printCommand});
+"use strict";var Le=Object.create;var C=Object.defineProperty;var Me=Object.getOwnPropertyDescriptor;var $e=Object.getOwnPropertyNames;var Ne=Object.getPrototypeOf,Te=Object.prototype.hasOwnProperty;var Ie=(e,t)=>{for(var r in t)C(e,r,{get:t[r],enumerable:!0})},_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of $e(t))!Te.call(e,a)&&a!==r&&C(e,a,{get:()=>t[a],enumerable:!(n=Me(t,a))||n.enumerable});return e};var s=(e,t,r)=>(r=e!=null?Le(Ne(e)):{},_(t||!e||!e.__esModule?C(r,"default",{value:e,enumerable:!0}):r,e)),_e=e=>_(C({},"__esModule",{value:!0}),e);var Je={};Ie(Je,{CLIError:()=>g,create:()=>qe,printCommand:()=>d});module.exports=_e(Je);var A=s(require("chalk")),oe=require("epicfail"),se=s(require("execa")),b=require("fs"),O=require("license.js"),u=s(require("path")),ce=s(require("yargs-interactive"));var j=require("cross-spawn"),E=s(require("fs")),U=s(require("path"));function D(e,t=[],r={}){return new Promise((n,a)=>{(0,j.spawn)(e,t,{stdio:"inherit",...r}).on("close",l=>{if(l!==0)return a(l);n(l)})})}function G(e,t){return E.default.existsSync(U.default.resolve(t,e))}function z(e){try{return E.default.readdirSync(e).filter(t=>!t.startsWith(".")).length!==0}catch(t){if((t==null?void 0:t.code)==="ENOENT")return!1;throw t}}var R=s(require("execa")),Y=s(require("gitconfig"));async function Z(e){d("git init"),await(0,R.default)("git init",{shell:!0,cwd:e})}async function B(){try{return(await Y.default.get({location:"global"})).user??{}}catch{return{}}}function W(){if(!process.env.npm_config_user_agent)return"npm";let e=process.env.npm_config_user_agent.split(" ")[0],t=e.lastIndexOf("/");return e.substring(0,t)}async function q(e,{pm:t}){let r,n;switch(t){case"npm":{r="npm",n=["init","-y"],process.chdir(e);break}case"yarn":{r="yarnpkg",n=["init","-y","--cwd",e];break}case"pnpm":{r="pnpm",n=["init","-y"],process.chdir(e);break}}d(r,...n);try{await D(r,n,{stdio:"inherit",shell:!0})}catch(a){throw new g(`Failed to install dependencies: ${a}`)}}async function J(e,t){let r,n;switch(t){case"npm":{r="npm",n=["install"],process.chdir(e);break}case"yarn":{r="yarnpkg",n=["install","--cwd",e];break}case"pnpm":{r="pnpm",n=["install","--dir",e];break}}d(r,...n);try{await D(r,n,{stdio:"inherit",shell:!0})}catch(a){throw new g(`Failed to install dependencies: ${a}`)}}async function K(e,t,{isDev:r=!1,pm:n}){let a,p;switch(n){case"npm":{a="npm",p=["install",r?"-D":"-S",...t],process.chdir(e);break}case"yarn":{a="yarnpkg",p=["add","--cwd",e,...t,r?"-D":""];break}case"pnpm":{a="pnpm",p=["add","--dir",e,...t,r?"-D":""];break}}d(a,...p);try{await D(a,p,{stdio:"inherit",shell:!0})}catch(l){throw new g(`Failed to add dependencies: ${l}`)}}var w=s(require("fs")),V=s(require("globby")),c=s(require("handlebars")),X=s(require("is-utf8")),y=s(require("path")),L=s(require("slash")),ee=require("uuid");function te(e){return e.split(/[-_\s]+/)}function je(e){return te(k(e)).join(" ")}c.default.registerHelper("space",je);function k(e){return e.replace(/[\r\n]/g,"")}c.default.registerHelper("trim",k);function Ue(e){return k(e).toUpperCase()}c.default.registerHelper("upper",Ue);function Ge(e,t){let r=t&&t.hash&&t.hash.space;return k(e).toLowerCase()}c.default.registerHelper("lower",Ge);function M(e,t){let r=t&&t.hash&&t.hash.space;return te(k(e)).map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(r?" ":"")}c.default.registerHelper("capital",M);function ze(e){return M(e).replace(/^./,t=>t.toLowerCase())}c.default.registerHelper("camel",ze);function re(e){return M(e).replace(/(?<=([a-z](?=[A-Z])|[A-Za-z](?=[0-9])))(?=[A-Z0-9])/g,"_").toLowerCase()}c.default.registerHelper("snake",re);function Re(e){return re(e).replace(/_/g,"-")}c.default.registerHelper("kebab",Re);function Ye(){return(0,ee.v4)()}c.default.registerHelper("uuid",Ye);function Ze(e){return e.fn()}c.default.registerHelper("raw-helper",Ze);function Be(e){return e.fn()}c.default.registerHelper("raw",Be);function Q(e,t){return c.default.compile(e.toString(),{noEscape:!0})(t)}function We(e){try{let t=y.default.dirname(e);w.default.mkdirSync(t,{recursive:!0})}catch{}}function ne(e){return w.default.readdirSync(e).filter(t=>!t.startsWith("."))}async function ie(e){let t=await(0,V.default)((0,L.default)(e.sourceDir),{dot:!0});for(let r of t){let n=y.default.relative(e.sourceDir,r),a=Q((0,L.default)(y.default.resolve(e.targetDir,n)),e.view).replace(new RegExp(`${y.sep}gitignore$`,"g"),`${y.sep}.gitignore`);We(a);let p=w.default.readFileSync(r),l=p;(0,X.default)(p)&&(l=Buffer.from(Q(p,e.view))),w.default.writeFileSync(a,l,"utf-8")}}var g=class extends Error{constructor(t){super(t),this.name="CLIError"}};function d(...e){console.log(A.default.gray(">",...e))}async function qe(e,t){(0,oe.epicfail)(require.main.filename,{assertExpected:i=>i.name==="CLIError"});let r=await B(),{templateRoot:n,modifyName:a,extra:p={},after:l,caveat:v,defaultDescription:pe="description",defaultAuthor:le=r.name??"Your name",defaultEmail:me=r.email??"Your email",defaultTemplate:ge="default",defaultLicense:fe="MIT",defaultPackageManager:ue=void 0,promptForDescription:de=!0,promptForAuthor:ye=!0,promptForEmail:he=!0,promptForTemplate:we=!1,promptForLicense:ke=!0,promptForPackageManager:be=!1,skipGitInit:ve=!1,skipNpmInstall:Pe=!1}=t,P=process.argv[2];if(P===void 0)throw new g(`${e} <name>`);let $=P===".",x=$?u.default.basename(process.cwd()):a?await Promise.resolve(a(P)):P,o=$?process.cwd():(0,u.resolve)(x);if(z(o))throw new g(`${o} is not empty directory.`);let F=ne(n);if(F.length===0)throw new g("No template found");let xe=[...(0,O.availableLicenses)(),"UNLICENSED"],Ce=F.length>1,De={interactive:{default:!0},description:{type:"input",describe:"Description",default:pe,prompt:de?"if-no-arg":"never"},author:{type:"input",describe:"Author name",default:le,prompt:ye?"if-no-arg":"never"},email:{type:"input",describe:"Author email",default:me,prompt:he?"if-no-arg":"never"},template:{type:"list",describe:"Template",default:ge,prompt:Ce&&we?"if-no-arg":"never",choices:F},license:{type:"list",describe:"License",choices:xe,default:fe,prompt:ke?"if-no-arg":"never"},"node-pm":{type:"list",describe:"Package manager to use for installing packages from npm",choices:["npm","yarn","pnpm"],default:ue,prompt:be?"if-no-arg":"never"},"skip-git":{type:"confirm",describe:"Skip initializing git repository",prompt:"never"},"skip-install":{type:"confirm",describe:"Skip installing package dependencies",prompt:"never"},...p},m=await(0,ce.default)().usage("$0 <name> [args]").interactive(De),N=m.template,H=(0,u.resolve)(n,N);if(!(0,b.existsSync)(H))throw new g("No template found");let h=m["node-pm"]??W(),Ae=["name","interactive","node-pm","nodePm"],Oe=Object.entries(m).filter(i=>i[0].match(/^[^$_]/)&&!Ae.includes(i[0])).reduce((i,f)=>(i[f[0]]=f[1],i),{}),S=new Date().getFullYear(),Fe=ae(m.author,m.email),T={...Oe,name:x,contact:Fe};console.log(`
+Creating a new package in ${A.default.green(o)}.`),await ie({sourceDir:H,targetDir:o,view:{...T,year:S,packageManager:h}});try{let i=(0,O.makeLicenseSync)(m.license,{year:S,project:x,description:m.description,organization:ae(m.author,m.email)}),f=(i.header??"")+i.text+(i.warranty??"");(0,b.writeFileSync)((0,u.resolve)(o,"LICENSE"),f)}catch{}if(!(ve||m["skip-git"]))try{console.log(`
+Initializing a git repository`),await Z(o)}catch(i){if((i==null?void 0:i.exitCode)==127)return;throw i}let He=async(i,f=!1)=>{(0,b.existsSync)((0,u.join)(o,"package.json"))||await q(o,{pm:h}),await K(o,Array.isArray(i)?i:[i],{isDev:f,pm:h})};G("package.json",o)&&!(Pe||m["skip-install"])&&(console.log(`
+Installing dependencies using ${h}`),await J(o,h));let I={packageDir:o,templateDir:H,year:S,packageManager:h,answers:T,run:(i,f={})=>{let[Se,...Ee]=i.split(" ");return(0,se.default)(Se,Ee,{stdio:"inherit",cwd:o,...f})},installNpmPackage:He,name:x,template:N};if(l&&await Promise.resolve(l(I)),console.log(`
+Successfully created ${A.default.bold.cyan(o)}`),v)switch(typeof v){case"string":console.log(v);break;case"function":let i=await Promise.resolve(v(I));i&&console.log(i);break;default:}}function ae(e,t){return`${e}${t?` <${t}>`:""}`}0&&(module.exports={CLIError,create,printCommand});